# 更新日志

<!-- markdownlint-disable MD024 -->

## [Unreleased]

### 🚀 新功能

- 新增归档页文章列表发布日期显示控制功能。
  - 新增`文章列表显示文章发布时间`配置项，允许控制是否在归档页的文章列表中显示文章发布日期（默认为开启）。
- 新增标签详情页文章列表发布日期显示控制功能。
  - 新增`文章列表显示文章发布时间`配置项，允许控制是否在标签详情页的文章列表中显示文章发布日期（默认为开启）。
- 新增分类详情页文章列表发布日期显示控制功能。
  - 新增`文章列表显示文章发布时间`配置项，允许控制是否在分类详情页的文章列表中显示文章发布日期（默认为开启）。
- 新增瞬间页面帖文发布时间显示控制功能。
  - 新增`帖文发布时间`配置项，允许控制是否在瞬间页面的帖文列表中显示帖文发布时间（默认为开启）。
- 新增首页瞬间列表条目发布时间显示控制功能。
  - 新增`瞬间列表显示条目发布时间`配置项，允许控制是否在首页瞬间列表中显示条目发布时间（默认为开启）。
- 新增首页瞬间列表单独配置功能。
  - 新增`瞬间列表显示条目预计阅读时间`配置项，允许单独控制首页瞬间列表中的预计阅读时间显示（默认为关闭）。
  - 新增`瞬间列表显示条目字数统计`配置项，允许单独控制首页瞬间列表中的字数统计显示（默认为关闭）。
  - 新增`瞬间列表启用点赞按钮`配置项，允许单独控制首页瞬间列表中的点赞按钮（默认为开启）。
  - 新增`瞬间列表启用评论区`配置项，允许单独控制首页瞬间列表中的评论区（默认为开启）。
- 新增作者详情页文章列表发布日期显示控制功能。
  - 新增`文章列表显示文章发布时间`配置项，允许控制是否在作者详情页的文章列表中显示文章发布日期（默认为开启）。

## [1.55.1](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.55.0...v1.55.1) (2026-2-3)

### 🐛 错误修复

- 修复瞬间页（`/moments`）翻页组件链接不正确的问题。
- 修复启用`全局 -> 仅允许使用指定域名访问`且`域名白名单列表`为空时，页面会无限跳转的问题。

## [1.55.0](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.54.0...v1.55.0) (2026-2-3)

### 🚀 新功能

- 适配[朋友圈](https://github.com/chengzhongxue/plugin-friends-new)（[应用市场页面](https://www.halo.run/store/apps/app-yISsV)）插件。
  - 介绍文档：[朋友圈插件介绍](https://howiehz.top/halo-theme-higan-haozi/guide/plugin-compatibility#朋友圈-订阅聚合)
  - 新增相关配置项：[朋友圈页面样式配置项](https://howiehz.top/halo-theme-higan-haozi/guide/theme-configuration#朋友圈页面样式)
- 新增首页文章列表发布日期显示控制功能。
  - 简洁文章列表：新增`简洁列表显示发布日期`配置项，允许控制是否显示文章发布日期（默认为开启）。
  - 多元文章列表：新增`多元列表显示发布日期`配置项，允许控制是否显示文章发布日期（默认为开启）。

### 🐛 错误修复

- 修复 `首页样式 -> 主页列表布局` 选择“瞬间列表”时，在页数大于 1 时无法加载页面的问题。

### 🔧 优化改进

- 优化英文文档翻译质量。

## [1.54.0](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.53.1...v1.54.0) (2026-1-28)

### ⚠破坏性修改

- 更新后需重新设定 `总体样式 -> 自定义字体文件`，以修复无法显示已选选项的问题。

### 🚀 新功能

- 重构自定义字体相关配置，允许进行更详细的设定。

## 🔧 优化改进

- 默认 Meslo 字体补充相关声明：添加粗体版本、斜体版本、粗斜体版本。
- 优化自定义字体相关渲染逻辑。

### 🛠️ 开发体验

- 更新开发依赖。

## [1.53.1](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.53.0...v1.53.1) (2026-1-28)

### 🐛 错误修复

- 修复在 WebKit 内核的浏览器上，页脚内容和文章页顶部菜单出现异常换行的问题。

### 🔧 优化改进

- 优化自定义鼠标指针声明。
- 更新 Meslo 字体版本从 1.2 到 1.2.1，并且重新压缩各格式，以优化字体体积。
- 优化后备字体声明。
- 移除无用的 `vite-ignore` 声明，优化构建产物体积。

### 🛠️ 开发体验

- 更新开发依赖。

## [1.53.0](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.52.1...v1.53.0) (2026-1-17)

### 🚀 新功能

- 支持自定义鼠标指针。

## [1.52.1](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.52.0...v1.52.1) (2026-1-16)

### 🚀 新功能

- 支持显示二级菜单。
- 文章页平板模式下（平板样式为页面宽度大于等于 768px 且小于 1024px），可以显示目录了。
  - 右上角菜单的回到页面顶端按钮更换为目录按钮。
  - 页面不在顶端时，右下角不仅显示回到页面顶端按钮，也显示目录按钮。

### 🐛 错误修复

- 修复“链接页样式 - 链接描述行数上限”和“首页样式 - 多元列表文章摘要行数上限”默认值无法正常生效的问题。

### 🔧 优化改进

- 补充多语言文档。

### 🛠️ 开发体验

- 更新开发依赖。

## [1.52.0](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.51.1...v1.52.0) (2026-1-15)

### ⚠破坏性修改

- Halo CMS 最低要求版本从 2.22.0 变更为 2.22.1

### 🚀 新功能

- 新增“链接页样式 - 头像优先样式”布局选项，支持三列网格展示，强调头像显示。
  - 新增子配置“链接页样式 - 链接描述行数上限”

### 🐛 错误修复

- 修复链接页下，链接描述文本较长且无法自动换行，最终导致溢出屏幕的问题。
- 修复“首页样式 - 多元列表文章摘要行数上限”无法正常工作的问题。

### 🔧 优化改进

- 将需要插件支持的相关配置项分页移到最后，并在开头加上提示信息。
- 将配置项出现的 checkbox 控件更新为 switch 控件。（勾选框变开关样式）

### 🛠️ 开发体验

- 更新开发依赖。

## [1.51.1](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.50.0...v1.51.1) (2026-1-4)

### 🐛 错误修复

- 修复首页文章列表置顶图标使用颜色错误的问题。

## [1.51.0](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.50.2...v1.51.0) (2026-1-3)

### ⚠破坏性修改

- 更新后需重新设定 `总体样式 -> 配色方案`，以修复无法显示已选选项的问题。
- 更新后需重新设定 `总体样式 -> 自定义配色方案`，以适配新的主题变量设定。

### 🚀 新功能

- 支持使用 Halo CMS 2.22 新引入的控件来自定义主题配色。
  - 即使你没有任何前端知识，现在也能简单地自定义主题配色了！
  - 详情请阅读：[教程：自定义配色方案](https://howiehz.top/halo-theme-higan-haozi/tutorial/custom-theme)

### 🐛 错误修复

- 修复 `总体样式 -> 配色方案` 保存后无法显示已选选项的问题。
- 修复链接页图片描述意外居中的问题。
- 修复文档预览样式错误的问题。
- 修复瞬间详情页评论区展开/收起按钮点击无反应的问题。

### 🔧 优化改进

- 移除评论组件 v2 支持，减小包体积。
- 简化主题 CSS 变量数。
- 按需加载字号声明，减小资源体积。
- 按需加载自定义样式，减小页面体积。
- 配置文件尽量不使用 `if: "$get(xxx).value === 'xxx'"`，减小配置页错乱的概率。
- 组件化评论组件样式支持，按需加载，减少页面体积。
- 组件化页面 `color-scheme` 设定，按需加载，减少页面体积。
- 优化瞬间页标签样式。

## [1.50.2](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.50.1...v1.50.2) (2026-1-1)

### 🚀 新功能

- 支持 Vditor 编辑器插件的 `[toc]` 内联目录。

## [1.50.1](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.50.0...v1.50.1) (2025-12-28)

### 🔧 优化改进

- 优化包体积。
- 优化文档，新增[浏览器兼容性](https://howiehz.top/halo-theme-higan-haozi/reference/browser-compatibility)页面。

### 🛠️ 开发体验

- 更新开发依赖。

## [1.50.0](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.49.2...v1.50.0) (2025-12-24)

### ⚠破坏性修改

- Halo CMS 版本要求变为 `2.22+`。
- 自定义图标设置框将适配 Halo CMS 在 2.22 引入的 `iconify` 类型，您需要重新设置。

### 🚀 新功能

- 添加配置项“标签集合页样式 -> 页面描述”。
- 添加配置项“分类集合页样式 -> 页面描述”。
- 添加配置项“作者详情页样式 -> 页面描述”。
- 添加配置项“归档页样式 -> 页面描述”。
- 支持 `figcaption`（图片、视频、音频描述文本）样式。

### 🔧 优化改进

- 将原本的重复设置项（可重复一组输入。可增加组，移除组，交换任意组顺序），更新为 Halo CMS 2.22 最新样式。

### 🐛 错误修复

- 修复错误页无法正常显示的问题。

### 🛠️ 开发体验

- 更新开发依赖。
- 将 PostCSS 替换成 Lightning CSS，构建速度提高了一倍。
  - 将基础样式加入 `@layer base` 层级，避免覆盖 Tailwind CSS 样式。（之前 Tailwind CSS 添加的样式有 `:not(#\#)` ，Lightning CSS 最小化时删去了 `:not(#\#)` 凸显了这个问题）

## [1.49.2](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.49.1...v1.49.2) (2025-12-13)

### 🐛 错误修复

- 修复`强制页脚、页码在页面底部`配置项失效的问题。

### 🛠️ 开发体验

- 更新开发依赖。

## [1.49.1](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.49.0...v1.49.1) (2025-12-06)

### 🐛 错误修复

- 修复当文章页开启点赞按钮，关闭评论区时，页脚内容会与点赞按钮重叠的问题。
- 修复当无文章发布，随机文章功能会使页面崩溃的问题。

### 🔧 优化改进

- 移除意外被设置的边框颜色
- 优化图标显示样式

### 🛠️ 开发体验

- 重构构建流程。
- 组件化部分模板。
- 更新开发依赖。

## [1.49.0](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.48.3...v1.49.0) (2025-11-29)

### ⚠破坏性修改

- 你需要使用新流程自定义图标，相关文档请见[教程：自定义图标](https://howiehz.top/halo-theme-higan-haozi/tutorial/custom-svg)。如果你先前自定义了图标，需按照教程进行迁移。
- “自定义分享按钮”下的配置项将会被重置，先前的配置不会被覆盖，你可通过在主题信息[“导出主题配置”](https://howiehz.top/halo-theme-higan-haozi/reference/faq#如何导出主题配置)获取。

### 🐛 错误修复

- 修复在“自定义分享按钮 -> 分享按钮设置”中部分默认值空缺导致无法保存的问题。
  - “自定义分享按钮 -> 分享按钮设置”中名称为`Native`项，链接应为`@URL`，如您之前安装过本主题，可使用此默认值填充。
- 修复桌面端文章页分享菜单有概率无法唤出的问题。
- 修复英文版配置项主题包中文章元数据“Show in Post List”的类型错误。

### 🔧 优化改进

- 增强在“自定义分享按钮 -> 分享按钮设置”中名称为“Native”（浏览器原生分享）的链接设置功能。
- 优化部分代码，不再挂载到 window 全局变量上，优化页面体积。
- 修复 SVG 图标未成功内联到 CSS 的问题，运行时无需再从 iconify 服务器拉取图标信息。
- 升级 Tailwind CSS 从 v3 至 v4
- 迁移图标系统从 `vite-plugin-purge-icons` 至 `@iconify/tailwind4`

## [1.48.3](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.48.2...v1.48.3) (2025-11-26)

### 🐛 错误修复

- 修复在瞬间页中，作者名的悬停样式未按预期渲染的问题。

### 🔧 优化改进

- 进一步分包优化，移除冗余样式。

### 🛠️ 开发体验

- 重构构建流程。
- 组件化部分模板。
- 更新开发依赖。

## [1.48.2](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.48.1...v1.48.2) (2025-11-25)

### 🐛 错误修复

- 修复使用简洁文章列表的页面，无法按预期渲染的问题。
- 修复在瞬间页中，瞬间列表出现多余样式的问题。
- 修复在瞬间页中，交互栏按钮的悬停样式未按预期渲染的问题。

### 🔧 优化改进

- 进一步分包优化，移除冗余样式。
- 经过上述优化：
  - 主题资源：
    - 1.48.1 平均体积：66.808 KiB (gzipped) / 135.609 KiB (原始)
    - 1.48.2 平均体积：66.867 KiB (gzipped) / 132.980 KiB (原始)
    - 📉 Gzipped 下降：-0.060 KiB (-0.09%)
    - 📉 原始大小下降：2.629 KiB (1.94%)
  - 页面全部资源：
    - 1.48.1 平均体积：341.412 KiB (gzipped) / 999.784 KiB (原始)
    - 1.48.2 平均体积：341.500 KiB (gzipped) / 997.325 KiB (原始)
    - 📉 Gzipped 下降：-0.088 KiB (-0.03%)
    - 📉 原始大小下降：2.460 KiB (0.25%)

### 🛠️ 开发体验

- 更新开发依赖

## [1.48.1](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.48.0...v1.48.1) (2025-11-23)

### 🚀 新功能

- 新文档：[性能参考](https://howiehz.top/halo-theme-higan-haozi/reference/performance)
  - 展示了主题从 v1.0.0 到最新版的资源体积变化。

### 🔧 优化改进

- 为默认 LOGO 添加 Avif/WebP 格式，原本的 PNG 格式作为回退。
- 使用 [KonghaYao/cn-font-split](https://github.com/KonghaYao/cn-font-split) 对默认字体进行分割。
- 修订构建流程，移除模板中的 `// <!--/* 到 */-->` 注释、`<!--/* 到 */-->` 注释、空行。优化分发体积和输出体积。
- 经过上述优化：
  - 主题资源：
    - 1.48.0 平均体积：368.038 KiB (gzipped) / 428.557 KiB (原始)
    - 1.48.1 平均体积：66.808 KiB (gzipped) / 135.609 KiB (原始)
    - 📉 Gzipped 下降：301.230 KiB (81.85%)
    - 📉 原始大小下降：292.948 KiB (68.36%)
  - 页面全部资源：
    - 1.48.0 平均体积：642.663 KiB (gzipped) / 1292.573 KiB (原始)
    - 1.48.1 平均体积：341.412 KiB (gzipped) / 999.784 KiB (原始)
    - 📉 Gzipped 下降：301.251 KiB (46.88%)
    - 📉 原始大小下降：292.789 KiB (22.65%)

### 🛠️ 开发体验

- 更新开发依赖

## [1.48.0](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.47.0...v1.48.0) (2025-11-22)

### 🚀 新功能

- 添加“页面元数据 -> 自定义模板 -> [文章页样式](http://howiehz.top/halo-theme-higan-haozi/guide/metadata-configuration#%E6%96%87%E7%AB%A0%E9%A1%B5%E6%A0%B7%E5%BC%8F)”
  - 替代原有的“自定义页面样式 -> 启用类文章页样式”

### 🔧 优化改进

- 优化自定义页面样式体积。脚本和样式表均 [-15%](https://github.com/HowieHz/halo-theme-higan-hz/pull/327#issuecomment-3566640583) 的体积。

### 🛠️ 开发体验

- 更新开发依赖

## [1.47.0](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.46.0...v1.47.0) (2025-11-20)

### 🚀 新功能

- 添加“总体样式 -> [额外菜单项](http://howiehz.top/halo-theme-higan-haozi/guide/theme-configuration#%E9%A2%9D%E5%A4%96%E8%8F%9C%E5%8D%95%E9%A1%B9)”
  - 替代原有的“总体样式 -> 菜单中随机文章项”、“总体样式 -> 菜单中用户账号项”。
  - 类型为“重复器”，支持自定义排序，允许自由添加或删除条目。
  - 其中新增`用户账号`类型：
    - 未登录时，菜单显示 `登录`，点击后跳转 `/login` 页面。
    - 已登录时，菜单显示用户名，点击后跳转 `/uc` 页面。

### 🛠️ 开发体验

- 更新开发依赖

## [1.46.0](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.45.4...v1.46.0) (2025-11-17)

### 🚀 新功能

- 新文档站已上线，欢迎体验：[Higan Haozi](https://howiehz.top/halo-theme-higan-haozi)
  - [写作参考文档：基本样式、扩展样式及其写法](https://howiehz.top/halo-theme-higan-haozi/guide/style-reference)
  - [插件兼容性文档](https://howiehz.top/halo-theme-higan-haozi/guide/plugin-compatibility)
  - [主题配置项文档](https://howiehz.top/halo-theme-higan-haozi/guide/theme-configuration)
  - [元数据配置项文档](https://howiehz.top/halo-theme-higan-haozi/guide/metadata-configuration)

### 🔧 优化改进

- 将部分样式从公用包分离，减小页面体积。
- 优化主题配置项说明。

### 🛠️ 开发体验

- 更新开发依赖，移除无用依赖

## [1.45.4](https://github.com/HowieHz/halo-theme-higan-hz/compare/v1.45.3...v1.45.4) (2025-11-07)

### 🐛 错误修复

- 修复启用“标签集合页样式——标签排序方式”时标签颜色无法正常显示的问题。

<!-- ### Features -->

<!-- ### BREAKING CHANGES -->
