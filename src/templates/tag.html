<!doctype html>
<th:block
  xmlns:th="https://www.thymeleaf.org"
  th:replace="~{fragments/layout :: html(
    title = ${#annotations.getOrDefault(tag, 'higan.howiehz.top/page-title', tag.spec?.displayName)}, 
    head = ~{:: headContent},
    content = ~{:: content}, 
    header = ~{components/header/template :: content}, 
    navbar = ~{}, 
    language=${#annotations.get(tag, 'higan.howiehz.top/page-language')} 
  )}"
>
  <head>
    <!--/* remove after https://github.com/halo-dev/halo/issues/8054 */-->
    <meta name="description" th:attr="content=${site?.seo?.description}" />
    <link
      th:if="${pluginFinder.available('PluginFeed')}"
      rel="alternate"
      type="application/rss+xml"
      th:title="'Posts - Tag: ' + ${tag.spec?.displayName}"
      th:href="@{'/feed/tags/' + ${tag.spec?.slug} + '.xml'}"
    />
    <script src="/src/scripts/pages/tag.ts" type="module"></script>
    <th:block th:insert="~{components/list-post-simple/template :: headContent(showPagination = true)}"></th:block>
  </head>
  <body>
    <div id="archive" class="content flex-auto">
      <h1
        th:with="tagColor=${tag.spec?.color}"
        th:style="${tagColor != null
                  and !#strings.equalsIgnoreCase(tagColor, '#ffffff')}
                ? |--tag-hash-color:${tagColor};|
                : null"
      >
        <span th:text="${tag.spec?.displayName}">标签页标题替换位</span>
        <th:block th:if="${pluginFinder.available('PluginFeed') and theme.config?.tag_page_styles?.is_show_rss_button}">
          <a
            class="icon"
            th:aria-label="#{common.subscribeThisPage}"
            th:href="@{'/feed/tags/' + ${tag.spec?.slug} + '.xml'}"
            target="_blank"
            rel="noopener"
          >
            <span class="iconify iconify-large heroicons-outline--rss"></span
          ></a>
        </th:block>
      </h1>

      <th:block
        th:insert="~{components/list-post-simple/template :: content(posts = ${posts}, showPagination = true)}"
      ></th:block>
    </div>
  </body>
</th:block>
